{% extends 'head.html' %}

{% block body %}
<body>
    <h1>Extruder Cam Directory</h1>
    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="/camera">Camera</a></li>
            <script src="socket.io.min.js"></script>
            <script type="text/javascript">
                function lightsOn(){
                    const xhttp = new XMLHttpRequest();
                    xhttp.open("GET","/lights/on", true);
                    xhttp.send();
                }

                function lightsOff(){
                    const xhttp = new XMLHttpRequest();
                    xhttp.open("GET","/lights/off", true);
                    xhttp.send();
                }

                 var socket = io.connect('http://localhost:8080');  // Connect to your server's address and port

                    socket.on('connect', function() {
                        console.log('Connected to the server');
                    });

                    socket.on('disconnect', function() {
                        console.log('Disconnected from the server');
                    });
            </script>
            <li>Lights: <a href="#" onclick="lightsOn()">On</a> / <a href="#" onclick="lightsOff()">Off</a></li>
        </ul>
    </nav>
    <div class="content">
        {% block content %} {% endblock %}
    </div>
</body>
{% endblock %}